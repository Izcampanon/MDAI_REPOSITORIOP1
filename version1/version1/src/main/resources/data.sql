-- Seed data: usuarios, ubicaciones, locales, eventos, entradas y compras
-- Usuarios (2)
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (1, 'Pedro', 'pedro@example.com', 'x', 30, '600000000', FALSE, 100.0);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (2, 'Admin', 'admin@example.com', 'adminpass', 35, '600000001', TRUE, 1000.0);



INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (3, 'Ana García', 'ana.garcia@example.com', 'x', 24, '610111222', FALSE, 50.50);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (4, 'Javier Torres', 'javi.t@example.com', 'x', 38, '620333444', FALSE, 250.00);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (5, 'Marta López', 'marta.l@example.com', 'x', 21, '630555666', FALSE, 15.75);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (6, 'Carlos Ruiz', 'carlos.r@example.com', 'x', 45, '640777888', FALSE, 80.00);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (7, 'Elena Vidal', 'elena.v@example.com', 'x', 29, '650999000', FALSE, 120.50);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (8, 'David Pérez', 'david.p@example.com', 'x', 33, '660123456', FALSE, 35.00);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (9, 'Laura Sanz', 'laura.s@example.com', 'x', 27, '670789012', FALSE, 90.25);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (10, 'Miguel Castro', 'miguel.c@example.com', 'x', 41, '680345678', FALSE, 60.00);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (11, 'Sofía Hernández', 'sofia.h@example.com', 'x', 22, '690901234', FALSE, 150.00);
INSERT INTO USUARIO (ID, NOMBRE, EMAIL, CONTRASENIA, EDAD, TELEFONO, ADMIN, SALDO) VALUES (12, 'Pablo Gómez', 'pablo.g@example.com', 'x', 31, '601567890', FALSE, 40.00);



-- Ubicaciones
INSERT INTO UBICACION (ID, NOMBRE) VALUES (1, 'Centro');
INSERT INTO UBICACION (ID, NOMBRE) VALUES (2, 'Norte');
INSERT INTO UBICACION (ID, NOMBRE) VALUES (3, 'Sur');
INSERT INTO UBICACION (ID, NOMBRE) VALUES (4, 'Este');
INSERT INTO UBICACION (ID, NOMBRE) VALUES (5, 'Oeste');
INSERT INTO UBICACION (ID, NOMBRE) VALUES (6, 'Universidad');
INSERT INTO UBICACION (ID, NOMBRE) VALUES (7, 'Parque');
INSERT INTO UBICACION (ID, NOMBRE) VALUES (8, 'Industrial');

-- Locales asociados a ubicaciones
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (1, 'Sala Azul', 1);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (2, 'Teatro Norte', 2);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (3, 'Auditorio Sur', 3);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (4, 'Sala Este', 4);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (5, 'Estadio Oeste', 5);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (6, 'Cafeteria Uni', 6);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (7, 'Plaza del Parque', 7);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (8, 'Nave Industrial', 8);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (9, 'Sala VIP', 1);
INSERT INTO LOCAL (ID, NOMBRE, UBICACION_ID) VALUES (10, 'Teatro Sur', 3);

-- Eventos (referencian LOCAL_ID)
INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (100, 'Concierto Pedro', '2025-12-01 20:00:00', 'DJ Pedro', 'Calle Centro 1', 'Concierto prueba', 200, TRUE, 18, 30.0, 50.0, 5.0, 1);

INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (101, 'Teatro Admin', '2025-12-15 18:00:00', 'Compania Admin', 'Avenida Norte 2', 'Obra de prueba', 150, TRUE, 0, 20.0, 40.0, 3.0, 2);

INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (102, 'Festival Rock', '2025-12-05 21:00:00', 'Banda X', 'Estadio Oeste', 'Festival de rock con varias bandas', 8000, TRUE, 16, 45.0, 80.0, 6.0, 5);

INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (103, 'Jazz Night', '2025-12-10 21:00:00', 'Trio Jazz', 'Auditorio Sur', 'Noche de jazz relajado', 200, TRUE, 0, 35.0, 60.0, 4.0, 3);

INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (104, 'Electro Beats', '2026-01-10 22:00:00', 'DJ Electro', 'Sala VIP', 'Baile y electrónica', 500, TRUE, 18, 50.0, 90.0, 5.0, 9);

INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (105, 'Obra Infantil', '2025-12-20 17:00:00', 'Cia Infantil', 'Teatro Sur', 'Espectáculo familiar', 300, TRUE, 0, 15.0, 30.0, 2.0, 10);

INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (106, 'Acústico Plaza', '2025-12-08 19:00:00', 'Cantautor Z', 'Plaza del Parque', 'Concierto acústico íntimo', 120, TRUE, 0, 12.0, 25.0, 2.0, 7);

-- NUEVOS EVENTOS para locales de la UBICACION 1 (LOCAL_ID = 1 y LOCAL_ID = 9)
INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (110, 'Noche Indie - Sala Azul', '2025-12-12 21:00:00', 'Indie Band', 'Sala Azul, Calle Centro 1', 'Concierto indie con bandas locales en la Sala Azul.', 250, TRUE, 16, 22.0, 40.0, 3.0, 1);

INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (111, 'Electro Chill - Sala Azul', '2025-12-20 22:30:00', 'DJ Chillout', 'Sala Azul, Calle Centro 1', 'Sesión de electrónica suave para despedir el año.', 180, TRUE, 18, 18.0, 35.0, 4.0, 1);

INSERT INTO EVENTO (ID, TITULO, FECHA, ARTISTA, DIRECCION, DESCRIPCION, AFORO, ESTADO, EDADPERMITIDA, PRECIO_GENERAL, PRECIO_VIP, PRECIO_CONSUMICION, LOCAL_ID)
VALUES (112, 'Tributo Rock - Sala VIP', '2026-01-15 21:30:00', 'Tributo Rockers', 'Sala VIP, Calle Centro 1', 'Tributo a la mejor época del rock, en la Sala VIP.', 400, TRUE, 16, 30.0, 55.0, 5.0, 9);

-- Entradas (asociadas a usuarios y eventos)
INSERT INTO ENTRADA (ID, TIPO, CANTIDAD_CONSUMICIONES, USUARIO_ID, EVENTO_ID, DEVUELTA, NOMBRE_EVENTO, NOMBRE_USUARIO) VALUES (1001, 'GENERAL', 0, 1, 100, FALSE, 'Concierto Pedro', 'Pedro');
INSERT INTO ENTRADA (ID, TIPO, CANTIDAD_CONSUMICIONES, USUARIO_ID, EVENTO_ID, DEVUELTA, NOMBRE_EVENTO, NOMBRE_USUARIO) VALUES (1002, 'VIP', 0, 1, 100, FALSE, 'Concierto Pedro', 'Pedro');
INSERT INTO ENTRADA (ID, TIPO, CANTIDAD_CONSUMICIONES, USUARIO_ID, EVENTO_ID, DEVUELTA, NOMBRE_EVENTO, NOMBRE_USUARIO) VALUES (1003, 'GENERAL', 0, 2, 101, FALSE, 'Teatro Admin', 'Admin');

-- Compras (Compra_Entrada) y asociación con entradas
INSERT INTO Compra_Entrada (ID, FECHA_COMPRA, PRECIO, USUARIO_ID) VALUES (3001, '2025-11-26 12:00:00', 30.0, 1);

-- Asociar las entradas 1001 y 1002 a la compra 3001 (usuario 1)
INSERT INTO compra_entrada_entardas (compra_entrada_id, entrada_id) VALUES (3001, 1001);
INSERT INTO compra_entrada_entardas (compra_entrada_id, entrada_id) VALUES (3001, 1002);

-- Ajustar saldo del usuario 1 para reflejar la compra (saldo original 100.0 - precio 30.0 = 70.0)
UPDATE USUARIO SET SALDO = SALDO - 30.0 WHERE ID = 1;

-- Position identity counters after the seeded max IDs to avoid PK conflicts with IDENTITY
ALTER TABLE USUARIO ALTER COLUMN ID RESTART WITH 100;
ALTER TABLE UBICACION ALTER COLUMN ID RESTART WITH 1000;
ALTER TABLE LOCAL ALTER COLUMN ID RESTART WITH 1000;
ALTER TABLE EVENTO ALTER COLUMN ID RESTART WITH 2000;
ALTER TABLE ENTRADA ALTER COLUMN ID RESTART WITH 10000;
ALTER TABLE COMPRA_ENTRADA ALTER COLUMN ID RESTART WITH 20000;

-- End of data.sql
